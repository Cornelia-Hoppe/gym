{"version":3,"file":"static/js/861.92cb369d.chunk.js","mappings":"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","sources":["booking_page/BookingPage.jsx","booking_page/CheckModal.jsx","booking_page/Update_modal_pass.jsx","booking_page|sync|/^/.*/.png$"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport Calendar from \"react-calendar\";\r\nimport \"react-calendar/dist/Calendar.css\";\r\nimport \"./bookingPage.css\";\r\nimport \"../admin_page/AdminPage.css\";\r\nimport { db } from \"../firebase-config\";\r\nimport {\r\n  collection,\r\n  getDocs,\r\n  updateDoc,\r\n  doc\r\n} from \"firebase/firestore\";\r\nimport CheckModal from \"./CheckModal\";\r\n// import { BsFillPencilFill } from \"react-icons/bs\";\r\nimport Update_modal_pass from \"./Update_modal_pass\";\r\nimport openLoadingModal from \"../Components/loading_screen/OpenLoadingModal\";\r\nimport closeLoadingModal from \"../Components/loading_screen/CloseLoadingModal\";\r\nimport UpdateLocalStorage from \"../functions/UpdateLocalStorage\";\r\nimport { async } from \"@firebase/util\";\r\nimport { reload } from \"firebase/auth\";\r\n\r\nfunction BookingPage() {\r\n\r\n  const [passKategorier, setPassKategorier] = useState();\r\n  const [maxAntal_STYLE, setmaxAntal_STYLE] = useState({});\r\n\r\n  const [date, setDate] = useState(new Date());\r\n  const [passDenDagen, setPassDenDagen] = useState([]);\r\n\r\n  // SÄTTER inloggaUser. DENNA KOMMER UPPDATERAS\r\n  const [inloggadUser, setInloggadUser] = useState(JSON.parse(localStorage.getItem(\"user\")) ? JSON.parse(localStorage.getItem(\"user\")) : \"\");\r\n\r\n\r\n  const ref = useRef(null);\r\n\r\n\r\n  // START: HÄMTAR PASS\r\n\r\n  const passCollectionRef = collection(db, \"pass\");\r\n  const [pass, setPass] = useState([]);\r\n\r\n  const getPass = async () => {\r\n    openLoadingModal();\r\n    const data = await getDocs(passCollectionRef);\r\n    setPass(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n\r\n    closeLoadingModal();\r\n  };\r\n\r\n  // HÄMTAR PASS FÖRSTA GÅNGEN\r\n  const getStaffFirstTime = async () => {\r\n    const data = await getDocs(passCollectionRef);\r\n    setPass(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n  };\r\n\r\n  useEffect(() => {\r\n    getStaffFirstTime();\r\n  }, []);\r\n\r\n  // END: HÄMTAR PASS\r\n\r\n\r\n  // START: HÄMTAR PROFILER\r\n\r\n  const profilerCollectionRef = collection(db, \"profiler\");\r\n  const [profiler, setProfiler] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getProfiler = async () => {\r\n      const data = await getDocs(profilerCollectionRef);\r\n      setProfiler(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n    };\r\n\r\n    getProfiler();\r\n  }, []);\r\n\r\n  // END: HÄMTAR PROFILER\r\n\r\n  const bookPass = async (passId, platser) => {\r\n\r\n    openLoadingModal();\r\n\r\n    // LÄGGER IN PASSET TILL PROFILEN\r\n    const inloggadId = inloggadUser.id;\r\n\r\n    const tidigarePass = inloggadUser.bokadePass;\r\n\r\n    const newPassLista = [];\r\n\r\n    if (tidigarePass.length !== 0) {\r\n      tidigarePass.map((item, index) => {\r\n        newPassLista.push(item);\r\n      });\r\n    }\r\n\r\n    newPassLista.push(passId);\r\n\r\n    const passDoc = doc(db, \"profiler\", inloggadId);\r\n    const newFields = { bokadePass: newPassLista };\r\n    await updateDoc(passDoc, newFields);\r\n\r\n    UpdateLocalStorage(inloggadUser.id);\r\n\r\n    // LÄGGER TILL +1 TILL PASSET.PLATSER\r\n\r\n    let newPlatser = 0;\r\n\r\n    if (!platser) {\r\n      newPlatser = 1;\r\n    } else if (platser) {\r\n      newPlatser = platser + 1;\r\n    }\r\n\r\n\r\n    const staffDoc = doc(db, \"pass\", passId);\r\n    const newFieldsPass = { platser: Number(newPlatser) };\r\n    await updateDoc(staffDoc, newFieldsPass);\r\n\r\n    closeLoadingModal();\r\n\r\n    document.querySelector(\"#check-modal\").style.display = \"flex\";\r\n  };\r\n\r\n  // BOKA-KNAPPEN\r\n\r\n  const handleBokaBtn = async (passId, platser) => {\r\n\r\n    if (!inloggadUser) window.location.href = \"/myprofile\";\r\n    else {\r\n\r\n      let x = 0;\r\n\r\n      if (inloggadUser.bokadePass.length !== 0 || !inloggadUser.bokadePass) {\r\n        inloggadUser.bokadePass.map((item) => {\r\n          if (passId == item) {\r\n            avbokaPass(passId, platser);\r\n          } else {\r\n            bookPass(passId, platser);\r\n            x = 1;\r\n          }\r\n        })\r\n      } else if (x === 0) {\r\n        bookPass(passId, platser);\r\n      }\r\n\r\n\r\n    };\r\n\r\n  }\r\n  \r\n\r\n  // START: UPPDATERAR PASS DATA OCH LOCALSTORAGE\r\n\r\n\r\n\r\n  // END: UPPDATERAR PASS DATA OCH LOCALSTORAGE\r\n\r\n\r\n  // START: SORTERA PASSEN\r\n\r\n  // PER DAG\r\n  const sortPassDay = (e) => {\r\n    const filteredPass = pass.filter((pass) => {\r\n      return pass.dag == e;\r\n    });\r\n    setPassDenDagen(filteredPass);\r\n    // scrollToPass();\r\n  };\r\n\r\n  // PER KATEGORI\r\n  const sortKategories = (selectedKategori) => {\r\n    const filteredKategoryPass = pass.filter((pass) => {\r\n      return pass.kategori == selectedKategori;\r\n    });\r\n    setPassDenDagen(filteredKategoryPass);\r\n    // scrollToPass();\r\n    setPassKategorier(selectedKategori);\r\n\r\n  };\r\n\r\n  // END: SORTERA PASSEN\r\n\r\n  const addBokadToPassDenDagen = () => {\r\n\r\n    passDenDagen.map((pass) => { \r\n\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (passDenDagen !== 0 || !passDenDagen) {\r\n      addBokadToPassDenDagen();\r\n    }\r\n  }, []);\r\n\r\n\r\n  // START: AVBOKA PASS\r\n\r\n  const avbokaPass = async (passId, passPlatser) => {\r\n\r\n    let newBokadePass = [];\r\n\r\n    inloggadUser.bokadePass.find((item) => {\r\n      if (passId == item) {\r\n      } else {\r\n        newBokadePass.push(item);\r\n      }\r\n    });\r\n\r\n    // UPPDATERAR DATA PROFILER\r\n    const profulerDoc = doc(db, \"profiler\", inloggadUser.id);\r\n    const newFields = { bokadePass: newBokadePass };\r\n    await updateDoc(profulerDoc, newFields);\r\n\r\n    UpdateLocalStorage(inloggadUser.id);\r\n\r\n    passPlatser--;\r\n\r\n    // UPPDATERAR DATA PASS\r\n    const passfDoc = doc(db, \"pass\", passId);\r\n    const newFields2 = { platser: passPlatser };\r\n    await updateDoc(passfDoc, newFields2);\r\n\r\n    document.querySelector(\"#check-modal\").style.display = \"flex\";\r\n\r\n\r\n  };\r\n\r\n  // END: AVBOKA PASS\r\n\r\n  // SCROLL FUNCTION\r\n  const scrollToPass = () => {\r\n    ref.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  \r\n  return (\r\n    <>\r\n      <article className=\"booking-page-container\" id=\"top-section\">\r\n        <div className=\"booking-page-header-desktop\">\r\n          <h1>Boka Pass</h1>\r\n        </div>\r\n        <div className=\"booking-content\">\r\n          <section className=\"Sportix-Section\" id=\"calender-flex\">\r\n            <div className=\"booking-page-header-mobile\">\r\n              <h3>Kalender</h3>\r\n            </div>\r\n            <Calendar\r\n              onChange={setDate}\r\n              value={date}\r\n              onClickDay={sortPassDay}\r\n            />\r\n          </section>\r\n\r\n          <section className=\"Sportix-Section\" id=\"mobile-style\">\r\n            <div className=\"booking-page-header-mobile\">\r\n              {\" \"}\r\n              <h3>Pass</h3>{\" \"}\r\n            </div>\r\n            <div className=\"blue-wrapper\">\r\n              <select\r\n                className=\"drop-down\"\r\n                name=\"välj pass\"\r\n                onChange={(e) => sortKategories(e.target.value)}\r\n              >\r\n                <option value=\"null\">Välj pass</option>\r\n                <option value=\"kondition\">Kondition</option>\r\n                <option value=\"styrka\">Styrka</option>\r\n                <option value=\"flexebilitet\">Flexebilitet</option>\r\n                <option value=\"crossfit\">Crossfit</option>\r\n              </select>\r\n\r\n              {passDenDagen.map((pass, index) => {\r\n                let btn_text = \"Boka\";\r\n                let bokadText = \"bokat!\";\r\n                // let FULLBOKAT_NONE = {display: 'none'}\r\n                // let FULLBOKAT_BLOCK = {display: 'block'}\r\n\r\n                if (inloggadUser) {\r\n                  inloggadUser.bokadePass.map((item) => {\r\n                    if (pass.id === item) {\r\n                      btn_text = \"Avboka\";\r\n                      bokadText = \"avbokat\";\r\n                    }\r\n\r\n                    // if (pass.platser == pass.maxAntal && pass.id === item) {\r\n                    //   console.log(pass.aktivitet, pass, item);\r\n                    //   FULLBOKAT_NONE = {display: 'block'}\r\n                    //   FULLBOKAT_BLOCK = {display: 'none'}\r\n                    // }\r\n                  });\r\n                }\r\n\r\n                return (\r\n                  <>\r\n                    <CheckModal bokadText={bokadText} />\r\n                    <div key={index} className=\"pass-card center\" ref={ref}>\r\n                      <h2\r\n                        className=\"booking-antal\"\r\n                        style={\r\n                          pass.platser == pass.maxAntal\r\n                            ? { color: \"#ff6161\" }\r\n                            : { color: \"white\" }\r\n                        }\r\n                      >\r\n                        {!pass.platser ? 0 : pass.platser}/{pass.maxAntal}\r\n                      </h2>\r\n                      <img\r\n                        clasName=\"booking-icon\"\r\n                        src={require(\"./\" + pass.kategori + \".png\")}\r\n                        alt=\"no img\"\r\n                        height=\"40px\"\r\n                        width=\"30px\"\r\n                      />\r\n                      <div key={Math.random()} className=\"aktv-tid-div\">\r\n                        <h1>{pass.aktivitet}</h1>\r\n                        <p>\r\n                          {pass.dayString}, {pass.dateString} {pass.monthString}{\" \"}\r\n                          <br />\r\n                          {pass.tid}\r\n                        </p>\r\n                      </div>\r\n                      <h2>{pass.instruktör}</h2>\r\n\r\n                      <button\r\n                        // style={FULLBOKAT_BLOCK}\r\n                        class=\"myButton booking-btn\"\r\n                        onClick={() => handleBokaBtn(pass.id, pass.platser)}\r\n                      >\r\n                        {btn_text}\r\n                      </button>\r\n\r\n                      {/* <button\r\n                        style={FULLBOKAT_NONE}\r\n                        class=\"myButton booking-btn\">\r\n                        Full\r\n                      </button> */}\r\n                    </div>\r\n                  </>\r\n                );\r\n              })}\r\n            </div>\r\n          </section>\r\n        </div>\r\n      </article>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BookingPage;\r\n","import React from 'react'\r\nimport '../booking_page/bookingPage.css'\r\nimport { FaCheck } from \"@react-icons/all-files/fa/FaCheck\";\r\n\r\n\r\nfunction CheckModal({ bokadText }) {\r\n\r\n    const closeModal = () => {\r\n        window.location.reload()\r\n    }\r\n\r\n  return (\r\n    \r\n    <div id='check-modal'>\r\n        <div className='booking-modal'>\r\n            <FaCheck className='check-icon' />\r\n            <h1>Pass {bokadText}</h1>\r\n            <p>Se dina bokade pass under <a href=\"/myprofile\">Min sidor</a></p>\r\n            <button onClick={closeModal}>OK</button>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CheckModal","import React, { useState } from 'react'\r\nimport '../admin_page/AdminPage.css'\r\nimport { GrFormClose } from \"@react-icons/all-files/gr/GrFormClose\";\r\nimport { db } from '../firebase-config'\r\nimport { collection, getDocs, addDoc, updateDoc, doc, deleteDoc } from 'firebase/firestore'\r\nimport { useEffect } from 'react'\r\nimport Calendar from 'react-calendar';\r\nimport openLoadingModal from '../Components/loading_screen/OpenLoadingModal'\r\nimport closeLoadingModal from '../Components/loading_screen/CloseLoadingModal'\r\n\r\nfunction Update_modal_pass({ id, aktivitet, instruktör, maxAntal, platser, tid, dag, getPass, prevDayString, prevMonthSpring, prevDateString, kategori }) {\r\n\r\n    const [newAktivitet, setNewAktivitet] = useState(aktivitet)\r\n    const [newpassKategori, setNewPassKategori] = useState(kategori)\r\n    const [newInstruktör, setNewInstruktör] = useState(instruktör)\r\n    const [newMaxAntal, setNewMaxAntal] = useState(maxAntal)\r\n    const [newTid, setNewTid] = useState(tid)\r\n    const [newDate, setNewDate] = useState(dag)\r\n    const [date, setDate] = useState('')\r\n\r\n    const [dayString, setDayString] = useState(prevDayString)\r\n    const [monthString, setMonthString] = useState(prevMonthSpring)\r\n    const [dateString, setDateString] = useState(prevDateString)\r\n\r\n// UPPDATERAR DATA\r\n  const updatePass = async (DBcollextion) => {\r\n    openLoadingModal()\r\n    fixDays()\r\n    const staffDoc = doc(db, DBcollextion, id)\r\n    console.log('newAktivitet: ', newAktivitet, 'newInstruktör: ', newInstruktör, 'newMaxAntal: ', newMaxAntal\r\n    , 'newTid: ' ,newTid, 'newDate: ', newDate, 'dayString: ', dayString, 'dateString: ', dateString, 'monthString: ', monthString\r\n    );\r\n    const newFields = {\r\n        aktivitet: newAktivitet, \r\n        instruktör: newInstruktör, \r\n        maxAntal: newMaxAntal,\r\n        tid: newTid,\r\n        dag: String(newDate),\r\n        dateString: dayString,\r\n        dayString: dateString,\r\n        monthString: monthString,\r\n        kategori: newpassKategori\r\n        }\r\n    await updateDoc(staffDoc, newFields)\r\n    getPass()\r\n    closeLoadingModal()\r\n    alert('Pass uppdaterat!')\r\n    closeModal()\r\n  }\r\n\r\n// RADERAR DATA\r\n  const deleteStaff = async (id, DBcollextion) => {\r\n    if (window.confirm('Radera pass?')){\r\n        openLoadingModal()\r\n        const staffDoc = doc(db, DBcollextion, id);\r\n        await deleteDoc(staffDoc);\r\n        getPass()\r\n        closeModal()\r\n        closeLoadingModal()\r\n        \r\n    }\r\n  }\r\n\r\n//\r\n\r\n    const closeModal = () => {\r\n        document.querySelector(`#update-modal-${id}`).style.display=\"none\"\r\n    }\r\n\r\n\r\n    const fixDays = (e) => {\r\n        const date1 = new Date(e)\r\n        const timestamp = date1.getTime()\r\n        const dateTimestamp = new Date(timestamp)\r\n        setDateString(dateTimestamp.getDate())\r\n        setDate(e)\r\n\r\n        let day = \"\"\r\n\r\n        switch (dateTimestamp.getDay()) {\r\n            case 0:\r\n                day = \"Söndag\"\r\n                break;\r\n            case 1:\r\n                day = \"Måndag\"\r\n                break;\r\n            case 2:\r\n                day = \"Tisdag\"\r\n                break;\r\n            case 3:\r\n                day = \"Onsdag\"\r\n                break;\r\n            case 4:\r\n                day = \"Torsdag\"\r\n                break;\r\n            case 5:\r\n                day = \"Fredag\"\r\n                break;\r\n            case 6:\r\n                day = \"Lördag\"\r\n                break;\r\n        }\r\n\r\n        setDayString(day)\r\n\r\n        let month = \"\"\r\n\r\n        switch (dateTimestamp.getMonth()) {\r\n            case 0:\r\n                month = \"Januari\"\r\n                break;\r\n            case 1:\r\n                month = \"Februari\"\r\n                break;\r\n            case 2:\r\n                month = \"Mars\"\r\n                break;\r\n            case 3:\r\n                month = \"April\"\r\n                break;\r\n            case 4:\r\n                month = \"Maj\"\r\n                break;\r\n            case 5:\r\n                month = \"Juni\"\r\n                break;\r\n            case 6:\r\n                month = \"Juli\"\r\n                break;\r\n            case 7:\r\n                month = \"Agusti\"\r\n                break;\r\n            case 8:\r\n                month = \"September\"\r\n                break;\r\n            case 9:\r\n                month = \"Oktober\"\r\n                break;\r\n            case 10:\r\n                month = \"November\"\r\n                break;\r\n            case 11:\r\n                month = \"December\"\r\n                break;\r\n    }\r\n\r\n    setMonthString(month)\r\n   }\r\n\r\n  return (\r\n    <section id={`update-modal-${id}`} className='update-modal-wrapper'>\r\n        <article className='update-modal'>\r\n            <GrFormClose className='close-icon' onClick={closeModal} />\r\n\r\n            <div className='modal-input-wrapper'>\r\n                <h1>Ändra namn på aktivitet:</h1>\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder={aktivitet}\r\n                    onChange={(e) => {setNewAktivitet(e.target.value)}}\r\n                    defaultValue={aktivitet} \r\n                />\r\n            </div>\r\n\r\n            <div className='modal-input-wrapper'>\r\n              <h1>Ändra kategori:</h1>\r\n              <select className='drop-down input-select' name='välj pass' onChange={(e) => setNewPassKategori(e.target.value)}>\r\n                <option value=\"\">Välj kategori</option>\r\n                <option value=\"kondition\">Kondition</option>\r\n                <option value=\"spinning\">Spinning</option>\r\n                <option value=\"styrka\">Styrka</option>\r\n                <option value=\"flexebilitet\">Flexebilitet</option>\r\n                <option value=\"mindfullnes\">Mindfullnes</option>\r\n                <option value=\"crossfit\">Crossfit</option>\r\n                <option value=\"funktionell-träning\">Funktionell träning</option>\r\n            </select>\r\n            </div>\r\n\r\n            <div className='modal-input-wrapper'>\r\n                <h1>Ändra instruktör: </h1>\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder={instruktör}\r\n                    onChange={(e) => {setNewInstruktör(e.target.value)}}\r\n                    defaultValue={instruktör}\r\n                />\r\n            </div>\r\n\r\n            <div className='center'>\r\n            <p>Dag: </p>\r\n            <Calendar value={date} onClickDay={fixDays}/>\r\n            </div>\r\n\r\n            <div className='modal-input-wrapper'>\r\n                <h1>Ändra tid: </h1>\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder={tid}\r\n                    onChange={(e) => {setNewTid(e.target.value)}}\r\n                    defaultValue={tid}\r\n                />\r\n            </div>\r\n\r\n            <div className='modal-input-wrapper'>\r\n                <h1>Ändra maxAntal: </h1>\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder={maxAntal}\r\n                    onChange={(e) => {setNewMaxAntal(e.target.value)}}\r\n                    defaultValue={maxAntal}\r\n                />\r\n            </div>\r\n            \r\n            <div className=\"m30\">\r\n                <button onClick={() => {updatePass('pass')}}>Spara</button>\r\n                <button onClick={() => {deleteStaff(id, 'pass')}}>Ta bort pass</button>\r\n            </div>\r\n\r\n        </article>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Update_modal_pass","var map = {\n\t\"./bodypump.png\": 1870,\n\t\"./crossfit.png\": 1751,\n\t\"./flexebilitet.png\": 5080,\n\t\"./freediving.png\": 1172,\n\t\"./kondition.png\": 913,\n\t\"./spinning.png\": 8666,\n\t\"./styrka.png\": 5996\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 95;"],"names":["useState","setPassKategorier","Date","date","setDate","passDenDagen","setPassDenDagen","JSON","parse","localStorage","getItem","inloggadUser","ref","useRef","passCollectionRef","collection","db","pass","setPass","getStaffFirstTime","getDocs","data","docs","map","doc","id","useEffect","profilerCollectionRef","setProfiler","getProfiler","bookPass","passId","platser","openLoadingModal","inloggadId","tidigarePass","bokadePass","newPassLista","length","item","index","push","passDoc","newFields","updateDoc","UpdateLocalStorage","newPlatser","staffDoc","newFieldsPass","Number","closeLoadingModal","document","querySelector","style","display","handleBokaBtn","x","avbokaPass","window","location","href","passPlatser","newBokadePass","find","profulerDoc","passfDoc","newFields2","className","onChange","value","onClickDay","e","filteredPass","filter","dag","name","selectedKategori","filteredKategoryPass","kategori","sortKategories","target","btn_text","bokadText","maxAntal","color","clasName","src","require","alt","height","width","aktivitet","dayString","dateString","monthString","tid","Math","random","instruktör","class","onClick","reload","getPass","prevDayString","prevMonthSpring","prevDateString","newAktivitet","setNewAktivitet","newpassKategori","setNewPassKategori","newInstruktör","setNewInstruktör","newMaxAntal","setNewMaxAntal","newTid","setNewTid","newDate","setDayString","setMonthString","setDateString","updatePass","DBcollextion","fixDays","console","log","String","alert","closeModal","deleteStaff","confirm","deleteDoc","timestamp","getTime","dateTimestamp","getDate","day","getDay","month","getMonth","type","placeholder","defaultValue","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports"],"sourceRoot":""}