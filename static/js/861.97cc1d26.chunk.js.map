{"version":3,"file":"static/js/861.97cc1d26.chunk.js","mappings":"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","sources":["booking_page/BookingPage.jsx","booking_page/CheckModal.jsx","booking_page/Update_modal_pass.jsx","booking_page|sync|/^/.*/.png$"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport Calendar from \"react-calendar\";\r\nimport \"react-calendar/dist/Calendar.css\";\r\nimport \"./bookingPage.css\";\r\nimport \"../admin_page/AdminPage.css\";\r\nimport { db } from \"../firebase-config\";\r\nimport {\r\n  collection,\r\n  getDocs,\r\n  updateDoc,\r\n  doc\r\n} from \"firebase/firestore\";\r\nimport CheckModal from \"./CheckModal\";\r\n// import { BsFillPencilFill } from \"react-icons/bs\";\r\nimport Update_modal_pass from \"./Update_modal_pass\";\r\nimport openLoadingModal from \"../Components/loading_screen/OpenLoadingModal\";\r\nimport closeLoadingModal from \"../Components/loading_screen/CloseLoadingModal\";\r\nimport UpdateLocalStorage from \"../functions/UpdateLocalStorage\";\r\nimport { async } from \"@firebase/util\";\r\nimport { reload } from \"firebase/auth\";\r\n\r\nfunction BookingPage() {\r\n\r\n  const [passKategorier, setPassKategorier] = useState();\r\n  const [maxAntal_STYLE, setmaxAntal_STYLE] = useState({});\r\n\r\n  const [date, setDate] = useState(new Date());\r\n  const [passDenDagen, setPassDenDagen] = useState([]);\r\n\r\n  // SÄTTER inloggaUser. DENNA KOMMER UPPDATERAS\r\n  const [inloggadUser, setInloggadUser] = useState(JSON.parse(localStorage.getItem(\"user\")) ? JSON.parse(localStorage.getItem(\"user\")) : \"\");\r\n\r\n\r\n  const ref = useRef(null);\r\n\r\n\r\n  // START: HÄMTAR PASS\r\n\r\n  const passCollectionRef = collection(db, \"pass\");\r\n  const [pass, setPass] = useState([]);\r\n\r\n  const getPass = async () => {\r\n    openLoadingModal();\r\n    const data = await getDocs(passCollectionRef);\r\n    setPass(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n\r\n    closeLoadingModal();\r\n  };\r\n\r\n  // HÄMTAR PASS FÖRSTA GÅNGEN\r\n  const getStaffFirstTime = async () => {\r\n    const data = await getDocs(passCollectionRef);\r\n    setPass(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n  };\r\n\r\n  useEffect(() => {\r\n    getStaffFirstTime();\r\n  }, []);\r\n\r\n  // END: HÄMTAR PASS\r\n\r\n\r\n  // START: HÄMTAR PROFILER\r\n\r\n  const profilerCollectionRef = collection(db, \"profiler\");\r\n  const [profiler, setProfiler] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getProfiler = async () => {\r\n      const data = await getDocs(profilerCollectionRef);\r\n      setProfiler(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n    };\r\n\r\n    getProfiler();\r\n  }, []);\r\n\r\n  // END: HÄMTAR PROFILER\r\n\r\n  const bookPass = async (passId, platser) => {\r\n\r\n    openLoadingModal();\r\n\r\n    // LÄGGER IN PASSET TILL PROFILEN\r\n    const inloggadId = inloggadUser.id;\r\n\r\n    const tidigarePass = inloggadUser.bokadePass ? inloggadUser.bokadePass : null\r\n\r\n    console.log('tidigarePass: ', tidigarePass);\r\n\r\n    const newPassLista = [];\r\n\r\n    if (tidigarePass === null || tidigarePass.length === 0) {\r\n      newPassLista.push(passId);\r\n    } \r\n    \r\n    else if (tidigarePass.length !== 0) {\r\n      tidigarePass.map((item, index) => {\r\n        newPassLista.push(item);\r\n      });\r\n      newPassLista.push(passId);\r\n    } \r\n\r\n\r\n    const passDoc = doc(db, \"profiler\", inloggadId);\r\n    const newFields = { bokadePass: newPassLista };\r\n    await updateDoc(passDoc, newFields);\r\n\r\n    UpdateLocalStorage(inloggadUser.id);\r\n\r\n    // LÄGGER TILL +1 TILL PASSET.PLATSER\r\n\r\n    let newPlatser = 0;\r\n\r\n    if (!platser) {\r\n      newPlatser = 1;\r\n    } else if (platser) {\r\n      newPlatser = platser + 1;\r\n    }\r\n\r\n\r\n    const staffDoc = doc(db, \"pass\", passId);\r\n    const newFieldsPass = { platser: Number(newPlatser) };\r\n    await updateDoc(staffDoc, newFieldsPass);\r\n\r\n    closeLoadingModal();\r\n\r\n    document.querySelector(\"#check-modal\").style.display = \"flex\";\r\n  };\r\n\r\n  // BOKA-KNAPPEN\r\n\r\n  const handleBokaBtn = async (passId, platser) => {\r\n\r\n    if (!inloggadUser) window.location.href = \"/myprofile\";\r\n    else {\r\n\r\n      let x = 0;\r\n\r\n      if (!inloggadUser.bokadePass) {\r\n        console.log('ne 1 körs');\r\n        bookPass(passId, platser);\r\n        x = 1\r\n      } else if (inloggadUser.bokadePass.length !== 0) {\r\n        console.log('nr 2 körs');\r\n        inloggadUser.bokadePass.map((item) => {\r\n          if (passId == item) {\r\n        console.log('nr 3 körs');\r\n            avbokaPass(passId, platser);\r\n          } else {\r\n        console.log('nr 4 körs');\r\n            bookPass(passId, platser);\r\n            x = 1;\r\n          }\r\n        })\r\n      } else if (x === 0) {\r\n        console.log('nr 5 körs');\r\n        bookPass(passId, platser);\r\n      }\r\n    };\r\n  }\r\n\r\n// START: SORTERA PASSEN\r\n\r\n  // PER DAG\r\n  const sortPassDay = (e) => {\r\n    const filteredPass = pass.filter((pass) => {\r\n      return pass.dag == e;\r\n    });\r\n    setPassDenDagen(filteredPass);\r\n    // scrollToPass();\r\n  };\r\n\r\n  // PER KATEGORI\r\n  const sortKategories = (selectedKategori) => {\r\n    const filteredKategoryPass = pass.filter((pass) => {\r\n      return pass.kategori == selectedKategori;\r\n    });\r\n    setPassDenDagen(filteredKategoryPass);\r\n    // scrollToPass();\r\n    setPassKategorier(selectedKategori);\r\n\r\n  };\r\n\r\n// END: SORTERA PASSEN\r\n\r\n  const addBokadToPassDenDagen = () => {\r\n\r\n    passDenDagen.map((pass) => { \r\n\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (passDenDagen !== 0 || !passDenDagen) {\r\n      addBokadToPassDenDagen();\r\n    }\r\n  }, []);\r\n\r\n\r\n  // START: AVBOKA PASS\r\n\r\n  const avbokaPass = async (passId, passPlatser) => {\r\n\r\n    let newBokadePass = [];\r\n\r\n    inloggadUser.bokadePass.find((item) => {\r\n      if (passId == item) {\r\n      } else {\r\n        newBokadePass.push(item);\r\n      }\r\n    });\r\n\r\n    // UPPDATERAR DATA PROFILER\r\n    const profulerDoc = doc(db, \"profiler\", inloggadUser.id);\r\n    const newFields = { bokadePass: newBokadePass };\r\n    await updateDoc(profulerDoc, newFields);\r\n\r\n    UpdateLocalStorage(inloggadUser.id);\r\n\r\n    passPlatser--;\r\n\r\n    // UPPDATERAR DATA PASS\r\n    const passfDoc = doc(db, \"pass\", passId);\r\n    const newFields2 = { platser: passPlatser };\r\n    await updateDoc(passfDoc, newFields2);\r\n\r\n    document.querySelector(\"#check-modal\").style.display = \"flex\";\r\n\r\n\r\n  };\r\n\r\n  // END: AVBOKA PASS\r\n\r\n  // SCROLL FUNCTION\r\n  const scrollToPass = () => {\r\n    ref.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  \r\n  return (\r\n    <>\r\n      <article className=\"booking-page-container\" id=\"top-section\">\r\n        <div className=\"booking-page-header-desktop\">\r\n          <h1>Boka Pass</h1>\r\n        </div>\r\n        <div className=\"booking-content\">\r\n          <section className=\"Sportix-Section\" id=\"calender-flex\">\r\n            <div className=\"booking-page-header-mobile\">\r\n              <h3>Kalender</h3>\r\n            </div>\r\n            <Calendar\r\n              onChange={setDate}\r\n              value={date}\r\n              onClickDay={sortPassDay}\r\n            />\r\n          </section>\r\n\r\n          <section className=\"Sportix-Section\" id=\"mobile-style\">\r\n            <div className=\"booking-page-header-mobile\">\r\n              {\" \"}\r\n              <h3>Pass</h3>{\" \"}\r\n            </div>\r\n            <div className=\"blue-wrapper\">\r\n              <select\r\n                className=\"drop-down\"\r\n                name=\"välj pass\"\r\n                onChange={(e) => sortKategories(e.target.value)}\r\n              >\r\n                <option value=\"null\">Välj pass</option>\r\n                <option value=\"kondition\">Kondition</option>\r\n                <option value=\"styrka\">Styrka</option>\r\n                <option value=\"flexebilitet\">Flexebilitet</option>\r\n                <option value=\"crossfit\">Crossfit</option>\r\n              </select>\r\n\r\n              {passDenDagen.map((pass, index) => {\r\n                let btn_text = \"Boka\";\r\n                let bokadText = \"bokat!\";\r\n                // let FULLBOKAT_NONE = {display: 'none'}\r\n                // let FULLBOKAT_BLOCK = {display: 'block'}\r\n\r\n                if (inloggadUser.bokadePass) {\r\n                  inloggadUser.bokadePass.map((item) => {\r\n                    if (pass.id === item) {\r\n                      btn_text = \"Avboka\";\r\n                      bokadText = \"avbokat\";\r\n                    }\r\n\r\n                    // if (pass.platser == pass.maxAntal && pass.id === item) {\r\n                    //   console.log(pass.aktivitet, pass, item);\r\n                    //   FULLBOKAT_NONE = {display: 'block'}\r\n                    //   FULLBOKAT_BLOCK = {display: 'none'}\r\n                    // }\r\n                  });\r\n                }\r\n\r\n                return (\r\n                  <>\r\n                    <CheckModal bokadText={bokadText} />\r\n                    <div key={index} className=\"pass-card center\" ref={ref}>\r\n                      <h2\r\n                        className=\"booking-antal\"\r\n                        style={\r\n                          pass.platser == pass.maxAntal\r\n                            ? { color: \"#ff6161\" }\r\n                            : { color: \"white\" }\r\n                        }\r\n                      >\r\n                        {!pass.platser ? 0 : pass.platser}/{pass.maxAntal}\r\n                      </h2>\r\n                      <img\r\n                        clasName=\"booking-icon\"\r\n                        src={require(\"./\" + pass.kategori + \".png\")}\r\n                        alt=\"no img\"\r\n                        height=\"40px\"\r\n                        width=\"30px\"\r\n                      />\r\n                      <div key={Math.random()} className=\"aktv-tid-div\">\r\n                        <h1>{pass.aktivitet}</h1>\r\n                        <p>\r\n                          {pass.dayString}, {pass.dateString} {pass.monthString}{\" \"}\r\n                          <br />\r\n                          {pass.tid}\r\n                        </p>\r\n                      </div>\r\n                      <h2>{pass.instruktör}</h2>\r\n\r\n                      <button\r\n                        // style={FULLBOKAT_BLOCK}\r\n                        class=\"myButton booking-btn\"\r\n                        onClick={() => handleBokaBtn(pass.id, pass.platser)}\r\n                      >\r\n                        {btn_text}\r\n                      </button>\r\n\r\n                      {/* <button\r\n                        style={FULLBOKAT_NONE}\r\n                        class=\"myButton booking-btn\">\r\n                        Full\r\n                      </button> */}\r\n                    </div>\r\n                  </>\r\n                );\r\n              })}\r\n            </div>\r\n          </section>\r\n        </div>\r\n      </article>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BookingPage;\r\n","import React from 'react'\r\nimport '../booking_page/bookingPage.css'\r\nimport { FaCheck } from \"@react-icons/all-files/fa/FaCheck\";\r\n\r\n\r\nfunction CheckModal({ bokadText }) {\r\n\r\n    const closeModal = () => {\r\n        window.location.reload()\r\n    }\r\n\r\n  return (\r\n    \r\n    <div id='check-modal'>\r\n        <div className='booking-modal'>\r\n            <FaCheck className='check-icon' />\r\n            <h1>Pass {bokadText}</h1>\r\n            <p>Se dina bokade pass under <a href=\"/myprofile\">Min sidor</a></p>\r\n            <button onClick={closeModal}>OK</button>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CheckModal","import React, { useState } from 'react'\r\nimport '../admin_page/AdminPage.css'\r\nimport { GrFormClose } from \"@react-icons/all-files/gr/GrFormClose\";\r\nimport { db } from '../firebase-config'\r\nimport { collection, getDocs, addDoc, updateDoc, doc, deleteDoc } from 'firebase/firestore'\r\nimport { useEffect } from 'react'\r\nimport Calendar from 'react-calendar';\r\nimport openLoadingModal from '../Components/loading_screen/OpenLoadingModal'\r\nimport closeLoadingModal from '../Components/loading_screen/CloseLoadingModal'\r\n\r\nfunction Update_modal_pass({ id, aktivitet, instruktör, maxAntal, platser, tid, dag, getPass, prevDayString, prevMonthSpring, prevDateString, kategori }) {\r\n\r\n    const [newAktivitet, setNewAktivitet] = useState(aktivitet)\r\n    const [newpassKategori, setNewPassKategori] = useState(kategori)\r\n    const [newInstruktör, setNewInstruktör] = useState(instruktör)\r\n    const [newMaxAntal, setNewMaxAntal] = useState(maxAntal)\r\n    const [newTid, setNewTid] = useState(tid)\r\n    const [newDate, setNewDate] = useState(dag)\r\n    const [date, setDate] = useState('')\r\n\r\n    const [dayString, setDayString] = useState(prevDayString)\r\n    const [monthString, setMonthString] = useState(prevMonthSpring)\r\n    const [dateString, setDateString] = useState(prevDateString)\r\n\r\n// UPPDATERAR DATA\r\n  const updatePass = async (DBcollextion) => {\r\n    openLoadingModal()\r\n    fixDays()\r\n    const staffDoc = doc(db, DBcollextion, id)\r\n    console.log('newAktivitet: ', newAktivitet, 'newInstruktör: ', newInstruktör, 'newMaxAntal: ', newMaxAntal\r\n    , 'newTid: ' ,newTid, 'newDate: ', newDate, 'dayString: ', dayString, 'dateString: ', dateString, 'monthString: ', monthString\r\n    );\r\n    const newFields = {\r\n        aktivitet: newAktivitet, \r\n        instruktör: newInstruktör, \r\n        maxAntal: newMaxAntal,\r\n        tid: newTid,\r\n        dag: String(newDate),\r\n        dateString: dayString,\r\n        dayString: dateString,\r\n        monthString: monthString,\r\n        kategori: newpassKategori\r\n        }\r\n    await updateDoc(staffDoc, newFields)\r\n    getPass()\r\n    closeLoadingModal()\r\n    alert('Pass uppdaterat!')\r\n    closeModal()\r\n  }\r\n\r\n// RADERAR DATA\r\n  const deleteStaff = async (id, DBcollextion) => {\r\n    if (window.confirm('Radera pass?')){\r\n        openLoadingModal()\r\n        const staffDoc = doc(db, DBcollextion, id);\r\n        await deleteDoc(staffDoc);\r\n        getPass()\r\n        closeModal()\r\n        closeLoadingModal()\r\n        \r\n    }\r\n  }\r\n\r\n//\r\n\r\n    const closeModal = () => {\r\n        document.querySelector(`#update-modal-${id}`).style.display=\"none\"\r\n    }\r\n\r\n\r\n    const fixDays = (e) => {\r\n        const date1 = new Date(e)\r\n        const timestamp = date1.getTime()\r\n        const dateTimestamp = new Date(timestamp)\r\n        setDateString(dateTimestamp.getDate())\r\n        setDate(e)\r\n\r\n        let day = \"\"\r\n\r\n        switch (dateTimestamp.getDay()) {\r\n            case 0:\r\n                day = \"Söndag\"\r\n                break;\r\n            case 1:\r\n                day = \"Måndag\"\r\n                break;\r\n            case 2:\r\n                day = \"Tisdag\"\r\n                break;\r\n            case 3:\r\n                day = \"Onsdag\"\r\n                break;\r\n            case 4:\r\n                day = \"Torsdag\"\r\n                break;\r\n            case 5:\r\n                day = \"Fredag\"\r\n                break;\r\n            case 6:\r\n                day = \"Lördag\"\r\n                break;\r\n        }\r\n\r\n        setDayString(day)\r\n\r\n        let month = \"\"\r\n\r\n        switch (dateTimestamp.getMonth()) {\r\n            case 0:\r\n                month = \"Januari\"\r\n                break;\r\n            case 1:\r\n                month = \"Februari\"\r\n                break;\r\n            case 2:\r\n                month = \"Mars\"\r\n                break;\r\n            case 3:\r\n                month = \"April\"\r\n                break;\r\n            case 4:\r\n                month = \"Maj\"\r\n                break;\r\n            case 5:\r\n                month = \"Juni\"\r\n                break;\r\n            case 6:\r\n                month = \"Juli\"\r\n                break;\r\n            case 7:\r\n                month = \"Agusti\"\r\n                break;\r\n            case 8:\r\n                month = \"September\"\r\n                break;\r\n            case 9:\r\n                month = \"Oktober\"\r\n                break;\r\n            case 10:\r\n                month = \"November\"\r\n                break;\r\n            case 11:\r\n                month = \"December\"\r\n                break;\r\n    }\r\n\r\n    setMonthString(month)\r\n   }\r\n\r\n  return (\r\n    <section id={`update-modal-${id}`} className='update-modal-wrapper'>\r\n        <article className='update-modal'>\r\n            <GrFormClose className='close-icon' onClick={closeModal} />\r\n\r\n            <div className='modal-input-wrapper'>\r\n                <h1>Ändra namn på aktivitet:</h1>\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder={aktivitet}\r\n                    onChange={(e) => {setNewAktivitet(e.target.value)}}\r\n                    defaultValue={aktivitet} \r\n                />\r\n            </div>\r\n\r\n            <div className='modal-input-wrapper'>\r\n              <h1>Ändra kategori:</h1>\r\n              <select className='drop-down input-select' name='välj pass' onChange={(e) => setNewPassKategori(e.target.value)}>\r\n                <option value=\"\">Välj kategori</option>\r\n                <option value=\"kondition\">Kondition</option>\r\n                <option value=\"spinning\">Spinning</option>\r\n                <option value=\"styrka\">Styrka</option>\r\n                <option value=\"flexebilitet\">Flexebilitet</option>\r\n                <option value=\"mindfullnes\">Mindfullnes</option>\r\n                <option value=\"crossfit\">Crossfit</option>\r\n                <option value=\"funktionell-träning\">Funktionell träning</option>\r\n            </select>\r\n            </div>\r\n\r\n            <div className='modal-input-wrapper'>\r\n                <h1>Ändra instruktör: </h1>\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder={instruktör}\r\n                    onChange={(e) => {setNewInstruktör(e.target.value)}}\r\n                    defaultValue={instruktör}\r\n                />\r\n            </div>\r\n\r\n            <div className='center'>\r\n            <p>Dag: </p>\r\n            <Calendar value={date} onClickDay={fixDays}/>\r\n            </div>\r\n\r\n            <div className='modal-input-wrapper'>\r\n                <h1>Ändra tid: </h1>\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder={tid}\r\n                    onChange={(e) => {setNewTid(e.target.value)}}\r\n                    defaultValue={tid}\r\n                />\r\n            </div>\r\n\r\n            <div className='modal-input-wrapper'>\r\n                <h1>Ändra maxAntal: </h1>\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder={maxAntal}\r\n                    onChange={(e) => {setNewMaxAntal(e.target.value)}}\r\n                    defaultValue={maxAntal}\r\n                />\r\n            </div>\r\n            \r\n            <div className=\"m30\">\r\n                <button onClick={() => {updatePass('pass')}}>Spara</button>\r\n                <button onClick={() => {deleteStaff(id, 'pass')}}>Ta bort pass</button>\r\n            </div>\r\n\r\n        </article>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Update_modal_pass","var map = {\n\t\"./bodypump.png\": 1870,\n\t\"./crossfit.png\": 1751,\n\t\"./flexebilitet.png\": 5080,\n\t\"./freediving.png\": 1172,\n\t\"./kondition.png\": 913,\n\t\"./spinning.png\": 8666,\n\t\"./styrka.png\": 5996\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 95;"],"names":["useState","setPassKategorier","Date","date","setDate","passDenDagen","setPassDenDagen","JSON","parse","localStorage","getItem","inloggadUser","ref","useRef","passCollectionRef","collection","db","pass","setPass","getStaffFirstTime","getDocs","data","docs","map","doc","id","useEffect","profilerCollectionRef","setProfiler","getProfiler","bookPass","passId","platser","openLoadingModal","inloggadId","tidigarePass","bokadePass","console","log","newPassLista","length","push","item","index","passDoc","newFields","updateDoc","UpdateLocalStorage","newPlatser","staffDoc","newFieldsPass","Number","closeLoadingModal","document","querySelector","style","display","handleBokaBtn","x","avbokaPass","window","location","href","passPlatser","newBokadePass","find","profulerDoc","passfDoc","newFields2","className","onChange","value","onClickDay","e","filteredPass","filter","dag","name","selectedKategori","filteredKategoryPass","kategori","sortKategories","target","btn_text","bokadText","maxAntal","color","clasName","src","require","alt","height","width","aktivitet","dayString","dateString","monthString","tid","Math","random","instruktör","class","onClick","reload","getPass","prevDayString","prevMonthSpring","prevDateString","newAktivitet","setNewAktivitet","newpassKategori","setNewPassKategori","newInstruktör","setNewInstruktör","newMaxAntal","setNewMaxAntal","newTid","setNewTid","newDate","setDayString","setMonthString","setDateString","updatePass","DBcollextion","fixDays","String","alert","closeModal","deleteStaff","confirm","deleteDoc","timestamp","getTime","dateTimestamp","getDate","day","getDay","month","getMonth","type","placeholder","defaultValue","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports"],"sourceRoot":""}