"use strict";(self.webpackChunkgym=self.webpackChunkgym||[]).push([[861],{8857:function(e,n,t){function a(){document.querySelector("#loading-screen").style.display="none",document.querySelector("#loading-screen").style.opacity="0"}t.d(n,{Z:function(){return a}})},638:function(e,n,t){function a(){document.querySelector("#loading-screen").style.display="flex";setTimeout((function(){return document.querySelector("#loading-screen").style.opacity="1"}),10)}t.d(n,{Z:function(){return a}})},8931:function(e,n,t){t.r(n);var a=t(4165),r=t(1413),s=t(5861),i=t(885),o=t(2791),c=t(2266),l=(t(830),t(2332),t(8452),t(2892)),u=t(6724),d=t(3939),p=(t(8254),t(638)),f=t(8857),h=t(9207),x=(t(5854),t(9243),t(184));n.default=function(){var e=(0,o.useState)(),n=(0,i.Z)(e,2),t=(n[0],n[1]),g=(0,o.useState)({}),v=(0,i.Z)(g,2),k=(v[0],v[1],(0,o.useState)(new Date)),m=(0,i.Z)(k,2),j=m[0],b=m[1],Z=(0,o.useState)([]),S=(0,i.Z)(Z,2),y=S[0],w=S[1],N=(0,o.useState)(JSON.parse(localStorage.getItem("user"))?JSON.parse(localStorage.getItem("user")):""),P=(0,i.Z)(N,2),C=P[0],J=(P[1],(0,o.useRef)(null)),D=(0,u.hJ)(l.db,"pass"),A=(0,o.useState)([]),M=(0,i.Z)(A,2),T=M[0],F=M[1],q=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.PL)(D);case 2:n=e.sent,F(n.docs.map((function(e){return(0,r.Z)((0,r.Z)({},e.data()),{},{id:e.id})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){q()}),[]);var O=(0,u.hJ)(l.db,"profiler"),U=(0,o.useState)([]),V=(0,i.Z)(U,2),I=(V[0],V[1]);(0,o.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.PL)(O);case 2:n=e.sent,I(n.docs.map((function(e){return(0,r.Z)((0,r.Z)({},e.data()),{},{id:e.id})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var K=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n,t){var r,s,i,o,c,d,x,g;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("boka pass k\xf6rs"),(0,p.Z)(),r=C.id,s=C.bokadePass,i=[],console.log("tidigarePass: ",s,"tidigarePass.length: ",s.length),0!==s.length?s.map((function(e,n){i.push(e)})):i.push(n),i.push(n),o=(0,u.JU)(l.db,"profiler",r),c={bokadePass:i},e.next=12,(0,u.r7)(o,c);case 12:return(0,h.Z)(C.id),d=0,t?t&&(d=t+1):(console.log("platser = false"),d=1),console.log("newPlatser: ",d),x=(0,u.JU)(l.db,"pass",n),g={platser:Number(d)},e.next=20,(0,u.r7)(x,g);case 20:(0,f.Z)(),document.querySelector("#check-modal").style.display="flex";case 22:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),L=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n,t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C?(r=0,0===C.bokadePass.length&&C.bokadePass?0===r&&K(n,t):C.bokadePass.map((function(e){n==e?B(n,t):(K(n,t),r=1)}))):alert("go to login / sign up");case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){0===y&&y||y.map((function(e){}))}),[]);var B=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n,t){var r,s,i,o,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],C.bokadePass.find((function(e){n==e||r.push(e)})),s=(0,u.JU)(l.db,"profiler",C.id),i={bokadePass:r},e.next=6,(0,u.r7)(s,i);case 6:return(0,h.Z)(C.id),t--,o=(0,u.JU)(l.db,"pass",n),c={platser:t},e.next=12,(0,u.r7)(o,c);case 12:document.querySelector("#check-modal").style.display="flex";case 13:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("article",{className:"booking-page-container",children:[(0,x.jsx)("div",{className:"booking-page-header-desktop",children:(0,x.jsx)("h1",{children:"Boka Pass"})}),(0,x.jsxs)("div",{className:"booking-content",children:[(0,x.jsxs)("section",{className:"blue-wrapper center",children:[(0,x.jsx)("div",{className:"booking-page-header-mobile",children:(0,x.jsx)("h1",{children:"Kalender"})}),(0,x.jsx)(c.ZP,{onChange:b,value:j,onClickDay:function(e){var n=T.filter((function(n){return n.dag==e}));w(n)}})]}),(0,x.jsxs)("section",{className:"blue-wrapper center",children:[(0,x.jsxs)("div",{className:"booking-page-header-mobile",children:[" ",(0,x.jsx)("h1",{children:"Pass"})," "]}),(0,x.jsxs)("select",{className:"drop-down",name:"v\xe4lj pass",onChange:function(e){return function(e){var n=T.filter((function(n){return n.kategori==e}));w(n),t(e)}(e.target.value)},children:[(0,x.jsx)("option",{value:"null",children:"V\xe4lj pass"}),(0,x.jsx)("option",{value:"kondition",children:"Kondition"}),(0,x.jsx)("option",{value:"spinning",children:"Styrka"}),(0,x.jsx)("option",{value:"styrka",children:"Crossfit"}),(0,x.jsx)("option",{value:"flexebilitet",children:"Funktionell Tr\xe4ning"}),(0,x.jsx)("option",{value:"mindfullnes",children:"Mindfullnes"}),(0,x.jsx)("option",{value:"crossfit",children:"Crossfit"}),(0,x.jsx)("option",{value:"funktionell-tr\xe4ning",children:"Funktionell tr\xe4ning"})]}),y.map((function(e,n){var t="Boka",a="bokat!";return C&&C.bokadePass.map((function(n){e.id===n&&(t="Avboka",a="avbokat")})),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.Z,{bokadText:a}),(0,x.jsxs)("div",{className:"pass-card center",ref:J,children:[(0,x.jsxs)("h2",{className:"booking-antal",style:e.platser==e.maxAntal?{color:"red"}:{color:"white"},children:[e.platser?e.platser:0,"/",e.maxAntal]}),(0,x.jsxs)("div",{className:"aktv-tid-div",children:[(0,x.jsx)("h1",{children:e.aktivitet}),(0,x.jsxs)("p",{children:[e.dayString,", ",e.dateString," ",e.monthString," ",(0,x.jsx)("br",{}),e.tid]})]},Math.random()),(0,x.jsx)("h2",{children:e.instrukt\u00f6r}),(0,x.jsx)("button",{class:"myButton booking-btn",onClick:function(){return L(e.id,e.platser)},children:t})]},n)]})}))]})]})]})})}},3939:function(e,n,t){t(2791),t(2332);var a=t(8218),r=t(184);n.Z=function(e){var n=e.bokadText;return console.log("bokadText: ",n),(0,r.jsx)("div",{id:"check-modal",children:(0,r.jsxs)("div",{className:"booking-modal",children:[(0,r.jsx)(a.l,{className:"check-icon"}),(0,r.jsxs)("h1",{children:["Pass ",n]}),(0,r.jsxs)("p",{children:["Se dina bokade pass under ",(0,r.jsx)("a",{href:"#",children:"Min sidor"})]}),(0,r.jsx)("button",{onClick:function(){window.location.reload()},children:"OK"})]})})}},8254:function(e,n,t){var a=t(4165),r=t(5861),s=t(885),i=t(2791),o=(t(8452),t(8336)),c=t(2892),l=t(6724),u=t(2266),d=t(638),p=t(8857),f=t(184);n.Z=function(e){var n=e.id,t=e.aktivitet,h=e.instrukt\u00f6r,x=e.maxAntal,g=(e.platser,e.tid),v=e.dag,k=e.getPass,m=e.prevDayString,j=e.prevMonthSpring,b=e.prevDateString,Z=e.kategori,S=(0,i.useState)(t),y=(0,s.Z)(S,2),w=y[0],N=y[1],P=(0,i.useState)(Z),C=(0,s.Z)(P,2),J=C[0],D=C[1],A=(0,i.useState)(h),M=(0,s.Z)(A,2),T=M[0],F=M[1],q=(0,i.useState)(x),O=(0,s.Z)(q,2),U=O[0],V=O[1],I=(0,i.useState)(g),K=(0,s.Z)(I,2),L=K[0],B=K[1],E=(0,i.useState)(v),R=(0,s.Z)(E,2),z=R[0],G=(R[1],(0,i.useState)("")),H=(0,s.Z)(G,2),Q=H[0],W=H[1],X=(0,i.useState)(m),Y=(0,s.Z)(X,2),$=Y[0],_=Y[1],ee=(0,i.useState)(j),ne=(0,s.Z)(ee,2),te=ne[0],ae=ne[1],re=(0,i.useState)(b),se=(0,s.Z)(re,2),ie=se[0],oe=se[1],ce=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,d.Z)(),de(),r=(0,l.JU)(c.db,t,n),console.log("newAktivitet: ",w,"newInstrukt\xf6r: ",T,"newMaxAntal: ",U,"newTid: ",L,"newDate: ",z,"dayString: ",$,"dateString: ",ie,"monthString: ",te),s={aktivitet:w,"instrukt\xf6r":T,maxAntal:U,tid:L,dag:String(z),dateString:$,dayString:ie,monthString:te,kategori:J},e.next=7,(0,l.r7)(r,s);case 7:k(),(0,p.Z)(),alert("Pass uppdaterat!"),ue();case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),le=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n,t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Radera pass?")){e.next=8;break}return(0,d.Z)(),r=(0,l.JU)(c.db,t,n),e.next=5,(0,l.oe)(r);case 5:k(),ue(),(0,p.Z)();case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ue=function(){document.querySelector("#update-modal-".concat(n)).style.display="none"},de=function(e){var n=new Date(e).getTime(),t=new Date(n);oe(t.getDate()),W(e);var a="";switch(t.getDay()){case 0:a="S\xf6ndag";break;case 1:a="M\xe5ndag";break;case 2:a="Tisdag";break;case 3:a="Onsdag";break;case 4:a="Torsdag";break;case 5:a="Fredag";break;case 6:a="L\xf6rdag"}_(a);var r="";switch(t.getMonth()){case 0:r="Januari";break;case 1:r="Februari";break;case 2:r="Mars";break;case 3:r="April";break;case 4:r="Maj";break;case 5:r="Juni";break;case 6:r="Juli";break;case 7:r="Agusti";break;case 8:r="September";break;case 9:r="Oktober";break;case 10:r="November";break;case 11:r="December"}ae(r)};return(0,f.jsx)("section",{id:"update-modal-".concat(n),className:"update-modal-wrapper",children:(0,f.jsxs)("article",{className:"update-modal",children:[(0,f.jsx)(o.v,{className:"close-icon",onClick:ue}),(0,f.jsxs)("div",{className:"modal-input-wrapper",children:[(0,f.jsx)("h1",{children:"\xc4ndra namn p\xe5 aktivitet:"}),(0,f.jsx)("input",{type:"text",placeholder:t,onChange:function(e){N(e.target.value)},defaultValue:t})]}),(0,f.jsxs)("div",{className:"modal-input-wrapper",children:[(0,f.jsx)("h1",{children:"\xc4ndra kategori:"}),(0,f.jsxs)("select",{className:"drop-down input-select",name:"v\xe4lj pass",onChange:function(e){return D(e.target.value)},children:[(0,f.jsx)("option",{value:"",children:"V\xe4lj kategori"}),(0,f.jsx)("option",{value:"kondition",children:"Kondition"}),(0,f.jsx)("option",{value:"spinning",children:"Spinning"}),(0,f.jsx)("option",{value:"styrka",children:"Styrka"}),(0,f.jsx)("option",{value:"flexebilitet",children:"Flexebilitet"}),(0,f.jsx)("option",{value:"mindfullnes",children:"Mindfullnes"}),(0,f.jsx)("option",{value:"crossfit",children:"Crossfit"}),(0,f.jsx)("option",{value:"funktionell-tr\xe4ning",children:"Funktionell tr\xe4ning"})]})]}),(0,f.jsxs)("div",{className:"modal-input-wrapper",children:[(0,f.jsx)("h1",{children:"\xc4ndra instrukt\xf6r: "}),(0,f.jsx)("input",{type:"text",placeholder:h,onChange:function(e){F(e.target.value)},defaultValue:h})]}),(0,f.jsxs)("div",{className:"center",children:[(0,f.jsx)("p",{children:"Dag: "}),(0,f.jsx)(u.ZP,{value:Q,onClickDay:de})]}),(0,f.jsxs)("div",{className:"modal-input-wrapper",children:[(0,f.jsx)("h1",{children:"\xc4ndra tid: "}),(0,f.jsx)("input",{type:"text",placeholder:g,onChange:function(e){B(e.target.value)},defaultValue:g})]}),(0,f.jsxs)("div",{className:"modal-input-wrapper",children:[(0,f.jsx)("h1",{children:"\xc4ndra maxAntal: "}),(0,f.jsx)("input",{type:"text",placeholder:x,onChange:function(e){V(e.target.value)},defaultValue:x})]}),(0,f.jsxs)("div",{className:"m30",children:[(0,f.jsx)("button",{onClick:function(){ce("pass")},children:"Spara"}),(0,f.jsx)("button",{onClick:function(){le(n,"pass")},children:"Ta bort pass"})]})]})})}},9207:function(e,n,t){t.d(n,{Z:function(){return c}});var a=t(4165),r=t(1413),s=t(5861),i=t(2892),o=t(6724);function c(e){var n=function(){var n=(0,s.Z)((0,a.Z)().mark((function n(){var t,s,c,l;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],s=(0,o.hJ)(i.db,"profiler"),n.next=4,(0,o.PL)(s);case 4:c=n.sent,t=c.docs.map((function(e){return(0,r.Z)((0,r.Z)({},e.data()),{},{id:e.id})})),l=t.find((function(n){return console.log("profil.id: ",n.id),n.id==e})),localStorage.setItem("user",JSON.stringify(l));case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();localStorage.removeItem("user"),n()}},8452:function(){},2332:function(){}}]);
//# sourceMappingURL=861.cf8cd5c5.chunk.js.map